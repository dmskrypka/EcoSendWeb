@model IEnumerable<UserUploadVM>

<div id="upload-person-list">
    <table class="table-bordered">
        <colgroup>
            <col />
            <col width="60" />
            <col width="221" />
        </colgroup>
        <tr>
            <td>@Html.DisplayNameFor(x => x.Email)</td>
            <td>@Html.DisplayNameFor(x => x.UploadCount)</td>
            <td>@Html.DisplayNameFor(x => x.StrUploadDate)</td>
        </tr>
    </table>

    <div id="eco-tbl-users-uploads" class="eco-scrollbar">
        <table class="table-bordered">
            <colgroup>
                <col />
                <col width="63" />
                <col width="160" />
                <col width="30" />
            </colgroup>
            @foreach (UserUploadVM vm in this.Model)
            {
                <tr class="eco-data-row">
                    <td>@vm.Email</td>
                    <td class="text-center">@vm.UploadCount</td>
                    <td>@vm.StrUploadDate</td>
                    <td class="text-center">
                        <a href="#" data-id="@vm.UploadId" data-email="@vm.Email" class="eco-link-download">
                            <i class="fa fa-download fa-2x"></i>
                        </a>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>

<script type="text/javascript">

    require(["jquery", "site/eco.site"], function (jQuery, site) {
        jQuery(function ($) {

            var ac = new site.Action("upload-person-list");
            ac.onDownloadUsersUploads("eco-tbl-users-uploads", "eco-link-download", "@this.Url.Action("DownloadUserUploadDetails", "Account")");

        });
    });

</script>
